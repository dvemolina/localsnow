# =============================================================================
# LocalSnow Environment Variables
# =============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control

# =============================================================================
# Database Configuration
# =============================================================================
# PostgreSQL connection string
# Format: postgresql://username:password@host:port/database
# Development: Use Docker Compose (docker-compose.yml)
# Production: Use managed PostgreSQL (Neon, Supabase, Railway, AWS RDS)
DATABASE_URL=postgresql://root:mysecretpassword@localhost:5432/local

# =============================================================================
# Application Configuration
# =============================================================================
# Node environment (development | production)
NODE_ENV=development

# Public URL of your application (used for OAuth callbacks, webhooks, emails)
# Development: http://localhost:5173
# Production: https://localsnow.org
PROJECT_URL=http://localhost:5173

# =============================================================================
# Stripe Payment Configuration
# =============================================================================
# Get these from: https://dashboard.stripe.com/apikeys
# Use test keys (sk_test_...) for development
# Use live keys (sk_live_...) for production
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here

# Stripe Webhook Secret (for verifying webhook signatures)
# Get this from: https://dashboard.stripe.com/webhooks
# Create endpoint: {PROJECT_URL}/api/webhooks/stripe
# Events to listen: checkout.session.completed, payment_intent.payment_failed
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# =============================================================================
# Google OAuth Configuration
# =============================================================================
# For user authentication (Google Sign-In)
# Get these from: https://console.cloud.google.com/apis/credentials
# Authorized redirect URI: {PROJECT_URL}/oauth/google/callback
GOOGLE_CLIENT_ID=your_google_client_id_here.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your_google_client_secret_here

# =============================================================================
# Cloudflare R2 Storage Configuration
# =============================================================================
# For storing profile images, school logos, qualification documents
# Get these from: https://dash.cloudflare.com/ > R2
R2_ACCOUNT_ID=your_cloudflare_account_id_here
R2_ACCESS_KEY_ID=your_r2_access_key_id_here
R2_SECRET_ACCESS_KEY=your_r2_secret_access_key_here
R2_BUCKET_NAME=localsnow-uploads
R2_PUBLIC_URL=https://your-bucket.r2.cloudflarestorage.com

# =============================================================================
# n8n Webhook Configuration
# =============================================================================
# For sending email notifications (signup, bookings, reviews)
# URL of your n8n webhook endpoint for sending emails
# Optional: If not set, email features will be skipped gracefully
N8N_WEBHOOK_URL=https://your-n8n-instance.com/webhook/email

# =============================================================================
# Cron Job Security
# =============================================================================
# Secret token for authenticating cron job requests
# Generate a random string (e.g., openssl rand -hex 32)
# Used by:
#   - /api/cron/availability (calendar sync, tentative block cleanup)
#   - /api/cron/process-deposits (expired deposit processing)
#
# n8n Configuration:
#   - Add HTTP Request node to your n8n workflow
#   - Method: POST
#   - URL: {PROJECT_URL}/api/cron/availability
#   - Authentication: Generic Credential Type > Header Auth
#   - Header Name: Authorization
#   - Header Value: Bearer {CRON_SECRET}
CRON_SECRET=your_secure_random_cron_secret_here

# =============================================================================
# Optional: Monitoring & Analytics
# =============================================================================
# Sentry DSN for error tracking (optional)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Google Analytics Measurement ID (optional)
# GA_MEASUREMENT_ID=G-XXXXXXXXXX

# =============================================================================
# Development Only
# =============================================================================
# Database credentials for local Docker container (see docker-compose.yml)
# Only used in development - ignored in production
POSTGRES_USER=root
POSTGRES_PASSWORD=mysecretpassword
POSTGRES_DB=local
